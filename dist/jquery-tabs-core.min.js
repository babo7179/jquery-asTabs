/*! jQuery tabs - v0.1.1 - 2013-11-26
* https://github.com/amazingSurge/jquery-tabs
* Copyright (c) 2013 amazingSurge; Licensed GPL */
(function(t,i,n,s){"use strict";var e=n.Tabs=function(t,i){var s=this;this.element=t,this.$element=n(t);var a=[];n.each(this.$element.data(),function(t,i){var n=RegExp("^tabs","i");n.test(t)&&(a[t.toLowerCase().replace(n,"")]=i)}),this.options=n.extend(!0,{},e.defaults,i,a),this.namespace=this.options.namespace,this.initialized=!1,this.enabled=!0,this.classes={activeTab:this.namespace+"_active",activePanes:this.namespace+"_active",panes:this.namespace+"-panes",skin:this.namespace+"_"+this.options.skin},this.$tabItems=this.$element.children(),this.$panes=n(this.options.panes).addClass(this.classes.panes),this.$paneItems=this.$panes.children(),this.options.skin&&(this.$element.addClass(this.classes.skin),this.$panes.addClass(this.classes.skin)),this.$loading=n('<span class="'+this.namespace+'-loading"></span>'),this.options.ajax===!0&&(this.ajax=[],n.each(this.$tabItems,function(t,i){var e={};e.href=n(i).data("href"),s.ajax.push(e)})),this.init()};e.defaults={namespace:"tabs",panes:".panes",skin:null,initialIndex:0,ajax:!1,cached:!1,history:!1,keyboard:!1,ifAnimate:!1,animate:{inClass:"",outClass:""},event:"click"},e.prototype={constructor:e,init:function(){var t=this;this.$tabItems.on(this.options.event,function(i){var s=n(i.target).index();return t.active(s),t.afterActive(),!1}),this.$element.trigger("tabs::init",this),"function"===n.type(this.options.onInit)&&this.options.onInit(this),this.active(this.options.initialIndex),this.initialized=!0},active:function(t){this.current!==t&&this.enabled!==!1&&(this.last=this.current,this.current=t,this.$tabItems.eq(t).addClass(this.classes.activeTab).siblings().removeClass(this.classes.activeTab),this.$paneItems.eq(t).addClass(this.classes.activePanes).siblings().removeClass(this.classes.activePanes),this.$element.trigger("tabs::active",this),"function"===n.type(this.options.onActive)&&this.options.onActive(this),this.options.ajax===!0&&this.ajaxLoad(t))},afterActive:function(){this.$element.trigger("tabs::afterActive",this),"function"===n.type(this.options.onAfterActive)&&this.options.onAfterActive(this)},ajaxLoad:function(t){var i,s=this;(this.options.cached!==!0||this.ajax[t].cached!==!0)&&(this.showLoading(),i=n.ajax({url:this.ajax[t].href}),i.done(function(i){s.ajax[t].cached=!0,s.hideLoading(),s.$paneItems.eq(t).html(i)}),i.fail(function(){s.hideLoading(),s.$paneItems.eq(t).html("failed")}))},showLoading:function(){this.$loading.appendTo(this.$panes)},hideLoading:function(){this.$loading.remove()},getTabs:function(){return this.$tabItems},getPanes:function(){return this.$paneItems},getCurrentPane:function(){return this.$paneItems.eq(this.current)},getCurrentTab:function(){return this.$tabItems.eq(this.current)},getIndex:function(){return this.current},next:function(){var t=this.$tabItems.length,i=this.current;t-1>i?i++:i=0,this.active(i)},prev:function(){var t=this.$tabItems.length,i=this.current;0===i?i=Math.abs(1-t):i-=1,this.active(i)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){this.$element.remove()}},n.fn.tabs=function(t){if("string"!=typeof t)return this.each(function(){n.data(this,"tabs")||n.data(this,"tabs",new e(this,t))});var i=t,a=arguments.length>1?Array.prototype.slice.call(arguments,1):s;if(!/^(getTabs|getPanes|getCurrentPane|getCurrentTab|getIndex)$/.test(i))return this.each(function(){var t=n.data(this,"tabs");t&&"function"==typeof t[i]&&t[i].apply(t,a)});var o=this.first().data("tabs");return o&&"function"==typeof o[i]?o[i].apply(o,a):s}})(window,document,jQuery);